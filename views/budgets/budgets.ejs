<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Mes Budgets</title>
</head>
<body>
  <h1>Mes Budgets</h1>

  <h2>Créer un budget</h2>
  <form action="/budgets/create" method="POST">
    <input type="text" name="category" placeholder="Catégorie" required />
    <input type="number" step="0.01" name="amount" placeholder="Montant" required />
    <button type="submit">Créer</button>
  </form>

  <h2>Liste des budgets</h2>
  <table border="1">
    <tr>
      <th>Catégorie</th>
      <th>Montant</th>
      <th>Actions</th>
    </tr>
    <% budgets.forEach(budget => { %>
      <tr>
        <td><%= budget.category %></td>
        <td><%= budget.amount %></td>
        <td>
          <form action="/budgets/update/<%= budget.id %>" method="POST" style="display:inline;">
            <input type="text" name="category" value="<%= budget.category %>" required />
            <input type="number" step="0.01" name="amount" value="<%= budget.amount %>" required />
            <button type="submit">Modifier</button>
          </form>
          <form action="/budgets/delete/<%= budget.id %>" method="POST" style="display:inline;">
            <button type="submit" style="color:red;">Supprimer</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </table>
</body>
</html>
